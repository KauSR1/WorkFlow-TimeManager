server {
    listen 80;
    listen [::]:80;

    # 1. ROOT PRINCIPAL: O NGINX procura arquivos HTML aqui. Mapeado para app/public
    root /usr/share/nginx/html;
    index auth.html index.html;

    # 2. SERVIÇO DE ARQUIVOS PÚBLICOS (HTML e outros recursos dentro do root)
    location / {
        try_files $uri $uri/ =404;
    }

    # 3. Mapeamento da pasta 'src' para CSS/JS
    # Esta localização captura qualquer requisição que comece com /src/ (ex: /src/styles/reg.css)
    location /src/ {
        # O 'alias' substitui a parte '/src/' da URL pelo novo caminho no contêiner.
        # Requisição: /src/styles/reg.css
        # Caminho Buscado: /usr/share/nginx/src/styles/reg.css
        alias /usr/share/nginx/src/;
        
        # Removido o try_files para evitar conflitos com o alias, garantindo mapeamento direto.
    }
}